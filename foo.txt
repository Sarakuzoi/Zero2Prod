{"v":0,"name":"test","msg":"CREATE DATABASE \"e1f64a8f-8756-47c2-aeb3-a68482e9747d\";; rows affected: 0, rows returned: 0, elapsed: 54.500ms","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.570556Z","target":"log","line":null,"file":null,"log.target":"sqlx::query","log.module_path":"sqlx::query"}
{"v":0,"name":"test","msg":"there is already a transaction in progress","level":40,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.581849Z","target":"log","line":null,"file":null,"log.module_path":"sqlx::postgres::notice","log.file":"/Users/calinradoi/.cargo/registry/src/index.crates.io-6f17d22bba15001f/sqlx-core-0.6.3/src/postgres/connection/stream.rs","log.line":157,"log.target":"sqlx::postgres::notice"}
{"v":0,"name":"test","msg":"there is no transaction in progress","level":40,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.582266Z","target":"log","line":null,"file":null,"log.file":"/Users/calinradoi/.cargo/registry/src/index.crates.io-6f17d22bba15001f/sqlx-core-0.6.3/src/postgres/connection/stream.rs","log.target":"sqlx::postgres::notice","log.module_path":"sqlx::postgres::notice","log.line":157}
{"v":0,"name":"test","msg":"starting 8 workers","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.588571Z","target":"actix_server::builder","line":200,"file":"/Users/calinradoi/.cargo/registry/src/index.crates.io-6f17d22bba15001f/actix-server-2.2.0/src/builder.rs"}
{"v":0,"name":"test","msg":"Tokio runtime found; starting in existing Tokio runtime","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.588986Z","target":"actix_server::server","line":197,"file":"/Users/calinradoi/.cargo/registry/src/index.crates.io-6f17d22bba15001f/actix-server-2.2.0/src/server.rs"}
{"v":0,"name":"test","msg":"[HTTP REQUEST - START]","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.590646Z","target":"tracing_actix_web::root_span_builder","line":41,"file":"/Users/calinradoi/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tracing-actix-web-0.7.5/src/root_span_builder.rs","otel.name":"HTTP POST /subscriptions","request_id":"e1b29f63-2578-4b8f-b24c-0f5c2d8f3ddf","http.flavor":"1.1","http.route":"/subscriptions","otel.kind":"server","http.client_ip":"127.0.0.1","http.target":"/subscriptions","http.user_agent":"","http.method":"POST","http.scheme":"http","http.host":"localhost:50053"}
{"v":0,"name":"test","msg":"[ADDING A NEW SUBSCRIBER - START]","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.590779Z","target":"zero2prod::routes::subscriptions","line":17,"file":"src/routes/subscriptions.rs","otel.name":"HTTP POST /subscriptions","request_id":"e1b29f63-2578-4b8f-b24c-0f5c2d8f3ddf","http.flavor":"1.1","subscriber_name":"sara kuzoi","http.route":"/subscriptions","otel.kind":"server","http.client_ip":"127.0.0.1","subscriber_email":"sara_kuzoi@tuta.io","http.target":"/subscriptions","http.user_agent":"","http.method":"POST","http.scheme":"http","http.host":"localhost:50053"}
{"v":0,"name":"test","msg":"[SAVING NEW SUBSCRIBER DETAILS TO THE DATABASE - START]","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.593735Z","target":"zero2prod::routes::subscriptions","line":67,"file":"src/routes/subscriptions.rs","otel.name":"HTTP POST /subscriptions","request_id":"e1b29f63-2578-4b8f-b24c-0f5c2d8f3ddf","http.flavor":"1.1","subscriber_name":"sara kuzoi","http.route":"/subscriptions","otel.kind":"server","http.client_ip":"127.0.0.1","subscriber_email":"sara_kuzoi@tuta.io","http.target":"/subscriptions","pool":"Pool { size: 1, num_idle: 0, is_closed: false, options: PoolOptions { max_connections: 10, min_connections: 0, connect_timeout: 2s, max_lifetime: Some(1800s), idle_timeout: Some(600s), test_before_acquire: true } }","http.user_agent":"","http.method":"POST","http.scheme":"http","http.host":"localhost:50053"}
{"v":0,"name":"test","msg":"[SAVING NEW SUBSCRIBER DETAILS TO THE DATABASE - END]","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.594597Z","target":"zero2prod::routes::subscriptions","line":67,"file":"src/routes/subscriptions.rs","subscriber_name":"sara kuzoi","otel.kind":"server","http.client_ip":"127.0.0.1","subscriber_email":"sara_kuzoi@tuta.io","http.target":"/subscriptions","http.user_agent":"","elapsed_milliseconds":0,"http.scheme":"http","request_id":"e1b29f63-2578-4b8f-b24c-0f5c2d8f3ddf","http.flavor":"1.1","http.route":"/subscriptions","pool":"Pool { size: 1, num_idle: 0, is_closed: false, options: PoolOptions { max_connections: 10, min_connections: 0, connect_timeout: 2s, max_lifetime: Some(1800s), idle_timeout: Some(600s), test_before_acquire: true } }","otel.name":"HTTP POST /subscriptions","http.method":"POST","http.host":"localhost:50053"}
{"v":0,"name":"test","msg":"[STORE SUBSCRIPTION TOKEN IN THE DATABSE - START]","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.594704Z","target":"zero2prod::routes::subscriptions","line":132,"file":"src/routes/subscriptions.rs","otel.name":"HTTP POST /subscriptions","request_id":"e1b29f63-2578-4b8f-b24c-0f5c2d8f3ddf","http.flavor":"1.1","subscriber_name":"sara kuzoi","http.route":"/subscriptions","otel.kind":"server","http.client_ip":"127.0.0.1","subscriber_email":"sara_kuzoi@tuta.io","http.target":"/subscriptions","http.user_agent":"","subscriber_id":"990c64bb-59a3-4c58-a163-6cbfb3431d2f","http.method":"POST","http.scheme":"http","http.host":"localhost:50053"}
{"v":0,"name":"test","msg":"[STORE SUBSCRIPTION TOKEN IN THE DATABSE - END]","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.595338Z","target":"zero2prod::routes::subscriptions","line":132,"file":"src/routes/subscriptions.rs","subscriber_name":"sara kuzoi","otel.kind":"server","http.client_ip":"127.0.0.1","subscriber_email":"sara_kuzoi@tuta.io","http.target":"/subscriptions","http.user_agent":"","elapsed_milliseconds":0,"http.scheme":"http","request_id":"e1b29f63-2578-4b8f-b24c-0f5c2d8f3ddf","http.flavor":"1.1","http.route":"/subscriptions","subscriber_id":"990c64bb-59a3-4c58-a163-6cbfb3431d2f","otel.name":"HTTP POST /subscriptions","http.method":"POST","http.host":"localhost:50053"}
{"v":0,"name":"test","msg":"[SEND A CONFIRMATION EMAIL TO A NEW SUBSCRIBER - START]","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.5956Z","target":"zero2prod::routes::subscriptions","line":165,"file":"src/routes/subscriptions.rs","otel.name":"HTTP POST /subscriptions","request_id":"e1b29f63-2578-4b8f-b24c-0f5c2d8f3ddf","http.flavor":"1.1","subscriber_name":"sara kuzoi","http.route":"/subscriptions","otel.kind":"server","http.client_ip":"127.0.0.1","subscriber_email":"sara_kuzoi@tuta.io","http.target":"/subscriptions","http.user_agent":"","http.method":"POST","http.scheme":"http","http.host":"localhost:50053"}
{"v":0,"name":"test","msg":"[SEND A CONFIRMATION EMAIL TO A NEW SUBSCRIBER - END]","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.596381Z","target":"zero2prod::routes::subscriptions","line":165,"file":"src/routes/subscriptions.rs","otel.name":"HTTP POST /subscriptions","request_id":"e1b29f63-2578-4b8f-b24c-0f5c2d8f3ddf","http.flavor":"1.1","subscriber_name":"sara kuzoi","http.route":"/subscriptions","otel.kind":"server","http.client_ip":"127.0.0.1","subscriber_email":"sara_kuzoi@tuta.io","http.target":"/subscriptions","http.user_agent":"","elapsed_milliseconds":0,"http.method":"POST","http.scheme":"http","http.host":"localhost:50053"}
{"v":0,"name":"test","msg":"[ADDING A NEW SUBSCRIBER - END]","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.596434Z","target":"zero2prod::routes::subscriptions","line":17,"file":"src/routes/subscriptions.rs","otel.name":"HTTP POST /subscriptions","request_id":"e1b29f63-2578-4b8f-b24c-0f5c2d8f3ddf","http.flavor":"1.1","subscriber_name":"sara kuzoi","http.route":"/subscriptions","otel.kind":"server","http.client_ip":"127.0.0.1","subscriber_email":"sara_kuzoi@tuta.io","http.target":"/subscriptions","http.user_agent":"","elapsed_milliseconds":5,"http.method":"POST","http.scheme":"http","http.host":"localhost:50053"}
{"v":0,"name":"test","msg":"[HTTP REQUEST - END]","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.596502Z","target":"tracing_actix_web::root_span_builder","line":41,"file":"/Users/calinradoi/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tracing-actix-web-0.7.5/src/root_span_builder.rs","otel.name":"HTTP POST /subscriptions","request_id":"e1b29f63-2578-4b8f-b24c-0f5c2d8f3ddf","http.flavor":"1.1","http.status_code":200,"http.route":"/subscriptions","otel.kind":"server","http.client_ip":"127.0.0.1","otel.status_code":"OK","http.target":"/subscriptions","http.user_agent":"","elapsed_milliseconds":5,"http.method":"POST","http.scheme":"http","http.host":"localhost:50053"}
{"v":0,"name":"test","msg":"[HTTP REQUEST - START]","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.597443Z","target":"tracing_actix_web::root_span_builder","line":41,"file":"/Users/calinradoi/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tracing-actix-web-0.7.5/src/root_span_builder.rs","otel.name":"HTTP POST /subscriptions","http.host":"localhost:50053","http.target":"/subscriptions","http.user_agent":"","http.client_ip":"127.0.0.1","http.route":"/subscriptions","http.scheme":"http","otel.kind":"server","request_id":"6579f17d-2b60-4fd9-8182-150b94dd9b6b","http.method":"POST","http.flavor":"1.1"}
{"v":0,"name":"test","msg":"[ADDING A NEW SUBSCRIBER - START]","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.59754Z","target":"zero2prod::routes::subscriptions","line":17,"file":"src/routes/subscriptions.rs","otel.name":"HTTP POST /subscriptions","subscriber_name":"sara kuzoi","http.host":"localhost:50053","http.target":"/subscriptions","http.user_agent":"","http.client_ip":"127.0.0.1","http.route":"/subscriptions","http.scheme":"http","otel.kind":"server","request_id":"6579f17d-2b60-4fd9-8182-150b94dd9b6b","subscriber_email":"sara_kuzoi@tuta.io","http.method":"POST","http.flavor":"1.1"}
{"v":0,"name":"test","msg":"[SAVING NEW SUBSCRIBER DETAILS TO THE DATABASE - START]","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.597832Z","target":"zero2prod::routes::subscriptions","line":67,"file":"src/routes/subscriptions.rs","otel.name":"HTTP POST /subscriptions","subscriber_name":"sara kuzoi","http.host":"localhost:50053","http.target":"/subscriptions","http.user_agent":"","http.client_ip":"127.0.0.1","http.route":"/subscriptions","http.scheme":"http","otel.kind":"server","request_id":"6579f17d-2b60-4fd9-8182-150b94dd9b6b","subscriber_email":"sara_kuzoi@tuta.io","http.method":"POST","http.flavor":"1.1","pool":"Pool { size: 1, num_idle: 0, is_closed: false, options: PoolOptions { max_connections: 10, min_connections: 0, connect_timeout: 2s, max_lifetime: Some(1800s), idle_timeout: Some(600s), test_before_acquire: true } }"}
{"v":0,"name":"test","msg":"[SAVING NEW SUBSCRIBER DETAILS TO THE DATABASE - END]","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.601176Z","target":"zero2prod::routes::subscriptions","line":67,"file":"src/routes/subscriptions.rs","subscriber_name":"sara kuzoi","http.host":"localhost:50053","http.user_agent":"","http.client_ip":"127.0.0.1","http.route":"/subscriptions","request_id":"6579f17d-2b60-4fd9-8182-150b94dd9b6b","subscriber_email":"sara_kuzoi@tuta.io","http.method":"POST","otel.name":"HTTP POST /subscriptions","http.target":"/subscriptions","elapsed_milliseconds":3,"otel.kind":"server","http.scheme":"http","pool":"Pool { size: 1, num_idle: 0, is_closed: false, options: PoolOptions { max_connections: 10, min_connections: 0, connect_timeout: 2s, max_lifetime: Some(1800s), idle_timeout: Some(600s), test_before_acquire: true } }","http.flavor":"1.1"}
{"v":0,"name":"test","msg":"[STORE SUBSCRIPTION TOKEN IN THE DATABSE - START]","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.601285Z","target":"zero2prod::routes::subscriptions","line":132,"file":"src/routes/subscriptions.rs","otel.name":"HTTP POST /subscriptions","subscriber_name":"sara kuzoi","http.host":"localhost:50053","http.target":"/subscriptions","http.user_agent":"","http.client_ip":"127.0.0.1","http.route":"/subscriptions","http.scheme":"http","otel.kind":"server","request_id":"6579f17d-2b60-4fd9-8182-150b94dd9b6b","subscriber_email":"sara_kuzoi@tuta.io","http.method":"POST","http.flavor":"1.1","subscriber_id":"990c64bb-59a3-4c58-a163-6cbfb3431d2f"}
{"v":0,"name":"test","msg":"[STORE SUBSCRIPTION TOKEN IN THE DATABSE - EVENT] Failed to execute query: Database(PgDatabaseError { severity: Error, code: \"25P02\", message: \"current transaction is aborted, commands ignored until end of transaction block\", detail: None, hint: None, position: None, where: None, schema: None, table: None, column: None, data_type: None, constraint: None, file: Some(\"postgres.c\"), line: Some(1714), routine: Some(\"exec_bind_message\") })","level":50,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.601511Z","target":"zero2prod::routes::subscriptions","line":150,"file":"src/routes/subscriptions.rs","otel.name":"HTTP POST /subscriptions","subscriber_name":"sara kuzoi","http.host":"localhost:50053","http.target":"/subscriptions","http.user_agent":"","http.client_ip":"127.0.0.1","http.route":"/subscriptions","http.scheme":"http","otel.kind":"server","request_id":"6579f17d-2b60-4fd9-8182-150b94dd9b6b","subscriber_email":"sara_kuzoi@tuta.io","http.method":"POST","http.flavor":"1.1","subscriber_id":"990c64bb-59a3-4c58-a163-6cbfb3431d2f"}
{"v":0,"name":"test","msg":"[STORE SUBSCRIPTION TOKEN IN THE DATABSE - END]","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.601554Z","target":"zero2prod::routes::subscriptions","line":132,"file":"src/routes/subscriptions.rs","subscriber_name":"sara kuzoi","http.host":"localhost:50053","http.user_agent":"","http.client_ip":"127.0.0.1","http.route":"/subscriptions","request_id":"6579f17d-2b60-4fd9-8182-150b94dd9b6b","subscriber_email":"sara_kuzoi@tuta.io","http.method":"POST","otel.name":"HTTP POST /subscriptions","http.target":"/subscriptions","subscriber_id":"990c64bb-59a3-4c58-a163-6cbfb3431d2f","elapsed_milliseconds":0,"otel.kind":"server","http.scheme":"http","http.flavor":"1.1"}
{"v":0,"name":"test","msg":"[ADDING A NEW SUBSCRIBER - END]","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.601609Z","target":"zero2prod::routes::subscriptions","line":17,"file":"src/routes/subscriptions.rs","otel.name":"HTTP POST /subscriptions","subscriber_name":"sara kuzoi","http.host":"localhost:50053","http.target":"/subscriptions","http.user_agent":"","http.client_ip":"127.0.0.1","http.route":"/subscriptions","http.scheme":"http","otel.kind":"server","request_id":"6579f17d-2b60-4fd9-8182-150b94dd9b6b","subscriber_email":"sara_kuzoi@tuta.io","http.method":"POST","http.flavor":"1.1","elapsed_milliseconds":4}
{"v":0,"name":"test","msg":"[HTTP REQUEST - END]","level":30,"hostname":"MacBook-Pro-2.local","pid":22160,"time":"2023-08-08T08:34:46.601669Z","target":"tracing_actix_web::root_span_builder","line":41,"file":"/Users/calinradoi/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tracing-actix-web-0.7.5/src/root_span_builder.rs","otel.name":"HTTP POST /subscriptions","otel.status_code":"OK","http.host":"localhost:50053","http.target":"/subscriptions","http.user_agent":"","http.client_ip":"127.0.0.1","http.route":"/subscriptions","http.scheme":"http","otel.kind":"server","request_id":"6579f17d-2b60-4fd9-8182-150b94dd9b6b","http.status_code":500,"http.method":"POST","http.flavor":"1.1","elapsed_milliseconds":4}